<!DOCTYPE html>
<html>

<head>
    <%- include('../header') -%>
</head>

<body style="height: 100vh;">
    <%- include('../nav') -%>
    <div class="wrapper mt-n5 ">
        <%- include('sidebar') -%>
        <div class="content w-100 py-5 d-flex justify-content-center align-items-center">
            <div class="w-75 border rounded p-3 px-4 bg-white shadow h-100 d-flex flex-column justify-content-around">
                    <div class=" d-flex flex-row">
                        <a href="/admin/timeSetting" class=" mt-4 ml-5 mr-3" style="text-decoration:none; font-size: 1.5rem; color: black;">
                            備份
                        </a>
                        <div class=" mt-4 border-right border-left px-4" data-toggle="modal" data-target="#saveFiles" style="text-decoration:none; font-size: 1.5rem; color: #003CFF;cursor: pointer;">
                            專題歸檔
                        </div>
                        <div class=" mt-4 border-right border-left px-4" data-toggle="modal" data-target="#notifyTeacher" style="text-decoration:none; font-size: 1.5rem; color: #003CFF;cursor: pointer;">
                            導師文件繳交期限
                        </div>
                    </div>
            <!-- 彈出視窗 -->
          <div class="modal fade" id="saveFiles" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
            aria-hidden="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <div class="container">
                    <div class="row justify-content-center">
                      <h4 class="modal-title" id="exampleModalLongTitle">
                        <img src="/static/images/productivity.png" style="width: 45px;margin:5px;" alt="">
                        專題歸檔時程設定
                      </h4>
                    </div>
                  </div>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="container">
                    <div class="row justify-content-center">
                        <div class='col-sm-6' style="text-align: center;">
                          <h5>日期選擇</h5>
                          <input type="text" name="date" class="form-control datepicker" id="date">
                        </span>
                          <script>
                            //$('.datepicker').datepicker()
                            $('.datepicker').datepicker({
                                format: "yyyy-mm-dd",
                                autoclose: true,
                                startDate: "today",
                                clearBtn: true,
                                calendarWeeks: true,
                                todayHighlight: true,
                                language: 'zh-TW'
                            });
                          </script>
                        </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <div class="container">
                    <div class="row justify-content-center">
                      <button type="button" class="btn btn-primary rounded" id="timeSetting">設定！</button>

                      <script>
                        var edit = document.getElementById("setting");
                        var date = document.getElementById("date").innerText;
                        date.split("-");
                        var month = date[1];
                        var day = date[2];
                        edit.addEventListener("click",editor)
                        function editor(){
                          let ele = {};
                          ele.year = date[0]
                          ele.month = date[1]
                          ele.day = date[2]
                          $.post(`/api/admin/timeSet`, ele, (res) => console.log(ele));
                        }

                      </script>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal fade" id="notifyTeacher" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
            aria-hidden="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <div class="container">
                    <div class="row justify-content-center">
                      <h4 class="modal-title" id="exampleModalLongTitle">
                        <img src="/static/images/productivity.png" style="width: 45px;margin:5px;" alt="">
                        導師文件繳交期限設定
                      </h4>
                    </div>
                  </div>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="container">
                    <div class="row justify-content-center">
                        <div class='col-sm-6' style="text-align: center;">
                          <h5>日期選擇</h5>
                          <input type="text" name="date" class="form-control datepicker">
                        </span>
                          <script>
                            //$('.datepicker').datepicker()
                            $('.datepicker').datepicker({
                                format: "yyyy-mm-dd",
                                autoclose: true,
                                startDate: "today",
                                clearBtn: true,
                                calendarWeeks: true,
                                todayHighlight: true,
                                language: 'zh-TW'
                            });
                          </script>
                        </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <div class="container">
                    <div class="row justify-content-center">
                      <button type="button" class="btn btn-primary rounded">設定！</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
                    <div class=" d-flex flex-row mt-3 mb-3">
                        <p class="ml-5 mb-0" style="font-size: 24px;">備份時程：</p>
                        <p class="ml-1 mb-0 font-weight-bold" style="font-size: 24px;"><%= year %>年<%= month %>月<%= day %>日</p>
                        <button type="button" class="btn btn-warning ml-4" data-toggle="modal" data-target="#backup" >設置</button>
                    </div>
                    <div class="modal fade" id="backup" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
            aria-hidden="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <div class="container">
                    <div class="row justify-content-center">
                      <h4 class="modal-title" id="exampleModalLongTitle">
                        <img src="/static/images/productivity.png" style="width: 45px;margin:5px;" alt="">
                        備份時程設定
                      </h4>
                    </div>
                  </div>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="container">
                    <div class="row justify-content-center">
                        <div class='col-sm-6' style="text-align: center;">
                          <h5>日期選擇</h5>
                          <input type="text" name="date" class="form-control datepicker">
                        </span>
                          <script>
                            //$('.datepicker').datepicker()
                            $('.datepicker').datepicker({
                                format: "yyyy-mm-dd",
                                autoclose: true,
                                startDate: "today",
                                clearBtn: true,
                                calendarWeeks: true,
                                todayHighlight: true,
                                language: 'zh-TW'
                            });
                          </script>
                        </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <div class="container">
                    <div class="row justify-content-center">
                      <button type="button" class="btn btn-primary rounded">設定！</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
                    <div class="selectBtn d-flex flex-row mr-5">
                        <div class="input-group w-75 mb-3 mr-auto ml-5">
                            <input class="form-control text-dark " type="text" placeholder="搜尋" aria-label="Search">
                            <div class="input-group-append bg-transparent ">
                                <button class="btn  border mb-1" type="button">
                                    <i class="fas fa-search "></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" class="btn btn-light btn-sm mb-3" id="select"> 全選</button>
                        <script>
                          $("button#select").click(function () {
                            let allchecked = true
                            $(`input[type="checkbox"]`).each(function () {
                              if (!$(this).prop(`checked`)) allchecked = false  
                            })
                            $(`input[type="checkbox"]`).prop(`checked`, !allchecked)
                          })
                        </script>
                        <button type="button" class="btn btn-light mr-0 mb-3" id="delete">
                          <i class="fas fa-trash"> </i>
                        </button>
                      </div>
                      <div class="project-list mb-4 ml-5 mr-5 overflow-auto">
                        <form role="form">
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                          <div class="checkbox">
                            <label class="projects-item" style="color: black;">
                              <input type="checkbox" class="m-2 ">
                              <p style="font-size: 20px;" class="mt-3">備份紀錄</p>
                              <div class="mt-3 ml-4"><p style="font-size: 20px;"><%= recordtime %></p></div>
                            </label>
                          </div>
                        </form>
                      </div>
                </div>
            </div>
        </div>
    <%- include('../footer'); -%>
</body>